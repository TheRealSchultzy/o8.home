box: olger/box-yeoman@0.5.5
build:
  steps:
    - npm-install
    - script:
        name: install front end dependencies via bower
        code: bower install
    - script:
        name: build with grunt
        code: grunt build
deploy:
  steps:
    - script:
        name: read version
        code: BUILD_VERSION=v$(node -pe 'JSON.parse(require("fs").readFileSync("package.json")).version')
    - wercker/s3sync@1.2.0:
        key-id: $AWSAccessKeyId
        key-secret: $AWSSecretKey
        bucket-url: s3://ocean8.co/
        source-dir: "$WERCKER_OUTPUT_DIR"
        opts: --acl-public
